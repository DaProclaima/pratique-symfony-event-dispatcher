services:
  _defaults:
    autowire: true
  App\:
    resource: '../src/*'
#    autowire: true

  App\Controller\OrderController:
    public: true
#    autowire: true

#  App\Listener\OrderSmsListener:
#    public: true
#    autowire: true
#
#  App\Listener\OrderEmailsSubscriber:
#    public: true
#    autowire: true

  Symfony\Component\EventDispatcher\EventDispatcher:
    public:  true
    calls:
      - method: 'addListener'
        arguments:
          - order_afer_insert
          - ['@App\Listener\OrderSmsListener', "sendSmsToStock"]
          - 3
      - method: 'addListener'
        arguments:
          - order_after_insert
          -  ['@App\Listener\OrderSmsListener', 'sendSmsToCustomer']
          - 2
      - method: 'addSubscriber'
        arguments:
          - '@App\Listener\OrderEmailsSubscriber'

